<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
	<meta name="viewport" content="width-device-width, initial-scale=1.0">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" integrity="sha512-PgQMlq+nqFLV4ylk1gwUOgm6CtIIXkKwaIHp/PAIWHzig/lKZSEGKEysh0TCVbHJXCLN7WetD8TFecIky75ZfQ==" crossorigin="anonymous" />
	<link rel="stylesheet" type="text/css" href="style.css">
	<link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Source+Serif+Pro:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
<div class="container">
	<div class="header">
		<h2>REGISTRATION FORM  </h2>
	</div>
	<form class="form" id="form">
		<div class="form-control">
			<label>Username :</label>
			<input type="text" name="" id="username" placeholder="enter your name..." autocomplete="off">
			<i class="fa fa-check-circle" aria-hidden="true"></i>
			<i class="fa fa-exclamation-circle" aria-hidden="true"></i>
			<small>Error Msg</small>
		</div>
		<div class="form-control">
			<label>Email :</label>
			<input type="email" name="" id="email" placeholder="enter your Email ..." autocomplete="off">
			<i class="fa fa-check-circle" aria-hidden="true"></i>
			<i class="fa fa-exclamation-circle" aria-hidden="true"></i>
			<small>Error Msg</small>
		</div>
		<div class="form-control">
			<label>Phone No :</label>
			<input type="number" name="" id="phone" placeholder="enter your name..." autocomplete="off">
			<i class="fa fa-check-circle" aria-hidden="true"></i>
			<i class="fa fa-exclamation-circle" aria-hidden="true"></i>
			<small>Error Msg</small>
		</div>
		<div class="form-control">
			<label>Password :</label>
			<input type="password" name="" id="password" placeholder="enter your Password..." autocomplete="off">
			<i class="fa fa-check-circle" aria-hidden="true"></i>
			<i class="fa fa-exclamation-circle" aria-hidden="true"></i>
			<small>Error Msg</small>
		</div>
		<div class="form-control">
			<label>Confirm Password :</label>
			<input type="password" name="" id="cpassword" placeholder="enter your Password again..." autocomplete="off">
			<i class="fa fa-check-circle" aria-hidden="true"></i>
			<i class="fa fa-exclamation-circle" aria-hidden="true"></i>
			<small>Error Msg</small>
		</div>
		<input type="submit" value="Submit" class="btn" name="">
	</form>
</div>

<script type="text/javascript">
	
	const form = document.getElementById('form');
	const username = document.getElementById('username');
	const email = document.getElementById('email');
	const phone = document.getElementById('phone');
	const password = document.getElementById('password');
	const cpassword = document.getElementById('cpassword');

	//add event

	form.addEventListener('submit', (event) => {
		event.preventDefault();
		validate();

	})

	// more email validate
	const isEmail = (emailVal) => {
		var atSymbol = emailVal.indexOf("@")
		if(atSymbol < 1) return false;
		var dot = emailVal.lastIndexOf('.');
		if(dot <=atSymbol + 3) return false;
		if(dot===emailVal.length - 1) return false;
		return true;


	}

	// define the validate function

	const validate = () => {
		const usernameVal = username.value.trim();
	    const emailVal = email.value.trim();
	    const phoneVal = phone.value.trim();
	    const passwordVal = password.value.trim();
	    const cpasswordVal = cpassword.value.trim(); 

		// validate username 
		if(usernameVal=== "" ){
			setErrorMsg(username,'username can not be blank');
		}
		else if(usernameVal.length <=2){
			setErrorMsg(username,'username min 3 char');
		}
		else{
			setSuccessMsg(username);
		}

		if(emailVal=== "" ){
			setErrorMsg(email,'email can not be blank');
		}
		else if(!isEmail(emailVal)){
			setErrorMsg(email,'not a valid email');
		}
		else{
			setSuccessMsg(email);
		}

		if(phoneVal=== "" ){
			setErrorMsg(phone,'phone number can not be blank');
		}
		else if(phoneVal.length!=10){
			setErrorMsg(phone,'not a valid number');
		}
		else{
			setSuccessMsg(phone);
		}

		if(passwordVal=== "" ){
			setErrorMsg(password,'phone number can not be blank');
		}
		else if(passwordVal.length<=5){
			setErrorMsg(password,'not a valid password');
		}
		else{
			setSuccessMsg(password);
		}

		if(cpasswordVal=== "" ){
			setErrorMsg(cpassword,'phone number can not be blank');
		}
		else if(cpasswordVal!= passwordVal){
			setErrorMsg(cpassword,'your password does not match');
		}
		else{
			setSuccessMsg(cpassword);
		}




	}

	function setErrorMsg(input , errormsgs){
		const formControl = input.parentElement;
		const small = formControl.querySelector('small');
		formControl.className = " form-control error ";
		small.innerText = errormsgs;
	}

	function setSuccessMsg(input){
		const formControl = input.parentElement;
		formControl.className = " form-control success ";
	}
</script>


<script>

</script>
</body>
</html>
